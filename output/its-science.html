<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <title>It's Science!</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="I have a 10 year old daughter in the fifth grade. She has participated in the Science Fair almost every year, but this year was different. This..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">My Place on the Internet</a></h1>
                <nav><ul>
                    <li><a href="/category/apple.html">Apple</a></li>
                    <li><a href="/category/automation.html">Automation</a></li>
                    <li><a href="/category/books.html">Books</a></li>
                    <li><a href="/category/coding.html">Coding</a></li>
                    <li><a href="/category/conferences.html">Conferences</a></li>
                    <li><a href="/category/conferenes.html">Conferenes</a></li>
                    <li><a href="/category/django.html">Django</a></li>
                    <li><a href="/category/github.html">GitHub</a></li>
                    <li><a href="/category/ios.html">iOS</a></li>
                    <li><a href="/category/macos.html">macOS</a></li>
                    <li><a href="/category/misc.html">misc</a></li>
                    <li><a href="/category/music.html">Music</a></li>
                    <li class="active"><a href="/category/musings.html">Musings</a></li>
                    <li><a href="/category/podcasts.html">Podcasts</a></li>
                    <li><a href="/category/productivity.html">Productivity</a></li>
                    <li><a href="/category/professional-development.html">Professional Development</a></li>
                    <li><a href="/category/python.html">Python</a></li>
                    <li><a href="/category/raspberry-pi.html">Raspberry Pi</a></li>
                    <li><a href="/category/server.html">Server</a></li>
                    <li><a href="/category/sports.html">Sports</a></li>
                    <li><a href="/category/web.html">Web</a></li>
                    <li><a href="/category/writing.html">Writing</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/its-science.html" rel="bookmark"
           title="Permalink to It's Science!">It's Science!</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-12-17T14:57:00+01:00">
                Published: Sat 17 December 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/musings.html">Musings</a>.</p>
<p>tags: <a href="/tag/python.html">python</a> <a href="/tag/science-fair.html">Science Fair</a> </p>
</footer><!-- /.post-info -->      <p>I have a 10 year old daughter in the fifth grade. She has participated in the Science Fair almost every year, but this year was different. This year was required participation.</p>
<p>dun … dun … dun …</p>
<p>She and her friend had a really interesting idea on what to do. They wanted to ask the question, <strong>“Is Soap and Water the Best Cleaning Method?</strong>”</p>
<p>The two Scientists decided that they would test how well the following cleaning agents cleaned a white t-shirt (my white t-shirt actually) after it got dirty:</p>
<ul>
<li>Plain Water</li>
<li>Soap and Water</li>
<li>Milk</li>
<li>Almond Milk</li>
</ul>
<p>While working with them we experimented on how to make the process as scientific as possible. Our first attempt was to just take a picture of the Clean shirt, cut the shirt up and get it dirty. Then we’d try each cleaning agent to see how it went.</p>
<p>It did not go well. It was immediately apparent that there would be no way to test the various cleaning methods efficacy.</p>
<p>No problem. In our second trial we decided to approach it more scientifically.</p>
<p>We would draw 12 equally sized squares on the shirt and take a picture:</p>
<p><img alt="" class="alignnone size-medium wp-image-130" height="200" src="/images/uploads/2016/12/Clean-Shirt-Grid-small-300x200.png" width="300"></p>
<p>We needed 12 squares because we had 4 cleaning methods and 3 trials that needed to be performed</p>
<blockquote>
<blockquote>
<p>4 Cleaning Methods X 3 Trials = 12 Samples</p>
</blockquote>
</blockquote>
<p>Next, the Scientists would get the shirt dirty. We then cut out the squares so that we could test cleaning the samples.</p>
<p>Here’s an outline of what the Scientists did to test their hypothesis:</p>
<ol>
<li>Take a picture of each piece BEFORE they get dirty</li>
<li>Get each sample dirty</li>
<li>Take a picture of each dirty sample</li>
<li>Clean each sample</li>
<li>Take a picture of each cleaned sample</li>
<li>Repeat for each trial</li>
</ol>
<p>For the ‘Clean Each Sample’ step they placed 1/3 of a cup of the cleaning solution into a small Tupperware tub that could be sealed and <em>vigorously</em> shook for 5 minutes. They had some tired arms at the end.</p>
<p>Once we had performed the experiment we our <strong>raw</strong> data:</p>
<h1>Trial 1</h1>
<p>Method           Start                                                                                                                                                             Dirty                                                                                                                                                             Cleaned</p>
<hr>
<p>Water            <img alt="" class="alignnone size-medium wp-image-139" height="300" src="/images/uploads/2016/12/Trial1_Start_Water-300x300.jpg" width="300">          <img alt="" class="alignnone size-medium wp-image-136" height="300" src="/images/uploads/2016/12/Trial1_Dirty_Water-300x300.jpg" width="300">          <img alt="" class="alignnone size-medium wp-image-156" height="300" src="/images/uploads/2016/12/Trial1_Clean_Water-300x300.jpg" width="300">
  Soap And Water   <img alt="" class="alignnone size-medium wp-image-134" height="300" src="/images/uploads/2016/12/Trial1_Start_SoapAndWater-300x300.jpg" width="300">   <img alt="" class="alignnone size-medium wp-image-133" height="300" src="/images/uploads/2016/12/Trial1_Dirty_SoapAndWater-300x300.jpg" width="300">   <img alt="" class="alignnone size-medium wp-image-135" height="300" src="/images/uploads/2016/12/Trial1_Clean_SoapAndWater-300x300.jpg" width="300">
  Milk             <img alt="" class="alignnone size-medium wp-image-155" height="300" src="/images/uploads/2016/12/Trial1_Start_Milk-300x300.jpg" width="300">           <img alt="" class="alignnone size-medium wp-image-145" height="300" src="/images/uploads/2016/12/Trial1_Dirty_Milk-300x300.jpg" width="300">           <img alt="" class="alignnone size-medium wp-image-142" height="300" src="/images/uploads/2016/12/Trial1_Clean_Milk-300x300.jpg" width="300">
  Almond Milk      <img alt="" class="alignnone size-medium wp-image-155" height="300" src="/images/uploads/2016/12/Trial1_Start_Milk-300x300.jpg" width="300">           <img alt="" class="alignnone size-medium wp-image-145" height="300" src="/images/uploads/2016/12/Trial1_Dirty_Milk-300x300.jpg" width="300">           <img alt="" class="alignnone size-medium wp-image-142" height="300" src="/images/uploads/2016/12/Trial1_Clean_Milk-300x300.jpg" width="300"></p>
<hr>
<h1>Trial 2</h1>
<p>Method           Start                                                                                                                                                             Dirty                                                                                                                                                             Cleaned</p>
<hr>
<p>Water            <img alt="" class="alignnone size-medium wp-image-153" height="300" src="/images/uploads/2016/12/Trial2_Start_Water-300x300.jpg" width="300">          <img alt="" class="alignnone size-medium wp-image-147" height="300" src="/images/uploads/2016/12/Trial2_Dirty_Water-300x300.jpg" width="300">          <img alt="" class="alignnone size-medium wp-image-154" height="300" src="/images/uploads/2016/12/Trial2_Clean_Water-300x300.jpg" width="300">
  Soap And Water   <img alt="" class="alignnone size-medium wp-image-144" height="300" src="/images/uploads/2016/12/Trial2_Start_SoapAndWater-300x300.jpg" width="300">   <img alt="" class="alignnone size-medium wp-image-149" height="300" src="/images/uploads/2016/12/Trial2_Dirty_SoapAndWater-300x300.jpg" width="300">   <img alt="" class="alignnone size-medium wp-image-146" height="300" src="/images/uploads/2016/12/Trial2_Clean_SoapAndWater-300x300.jpg" width="300">
  Milk             <img alt="" class="alignnone size-medium wp-image-164" height="300" src="/images/uploads/2016/12/Trial2_Start_Milk-300x300.jpg" width="300">           <img alt="" class="alignnone size-medium wp-image-152" height="300" src="/images/uploads/2016/12/Trial2_Dirty_Milk-300x300.jpg" width="300">           <img alt="" class="alignnone size-medium wp-image-150" height="300" src="/images/uploads/2016/12/Trial2_Clean_Milk-300x300.jpg" width="300">
  Almond Milk      <img alt="" class="alignnone size-medium wp-image-143" height="300" src="/images/uploads/2016/12/Trial2_Start_AlmondMilk-300x300.jpg" width="300">     <img alt="" class="alignnone size-medium wp-image-132" height="300" src="/images/uploads/2016/12/Trial2_Dirty_AlmondMilk-300x300.jpg" width="300">     <img alt="" class="alignnone size-medium wp-image-165" height="300" src="/images/uploads/2016/12/Trial2_Clean_AlmondMilk-300x300.jpg" width="300"></p>
<hr>
<h1>Trial 3</h1>
<p>Method           Start                                                                                                                                                             Dirty                                                                                                                                                             Cleaned</p>
<hr>
<p>Water            <img alt="" class="alignnone size-medium wp-image-166" height="300" src="/images/uploads/2016/12/Trial3_Start_Water-300x300.jpg" width="300">          <img alt="" class="alignnone size-medium wp-image-162" height="300" src="/images/uploads/2016/12/Trial3_Dirty_Water-300x300.jpg" width="300">          <img alt="" class="alignnone size-medium wp-image-138" height="300" src="/images/uploads/2016/12/Trial3_Clean_Water-300x300.jpg" width="300">
  Soap And Water   <img alt="" class="alignnone size-medium wp-image-158" height="300" src="/images/uploads/2016/12/Trial3_Start_SoapAndWater-300x300.jpg" width="300">   <img alt="" class="alignnone size-medium wp-image-163" height="300" src="/images/uploads/2016/12/Trial3_Dirty_SoapAndWater-300x300.jpg" width="300">   <img alt="" class="alignnone size-medium wp-image-160" height="300" src="/images/uploads/2016/12/Trial3_Clean_SoapAndWater-300x300.jpg" width="300">
  Milk             <img alt="" class="alignnone size-medium wp-image-141" height="300" src="/images/uploads/2016/12/Trial3_Start_Milk-300x300.jpg" width="300">           <img alt="" class="alignnone size-medium wp-image-161" height="300" src="/images/uploads/2016/12/Trial3_Dirty_Milk-300x300.jpg" width="300">           <img alt="" class="alignnone size-medium wp-image-157" height="300" src="/images/uploads/2016/12/Trial3_Clean_Milk-300x300.jpg" width="300">
  Almond Milk      <img alt="" class="alignnone size-medium wp-image-148" height="300" src="/images/uploads/2016/12/Trial3_Start_AlmondMilk-300x300.jpg" width="300">     <img alt="" class="alignnone size-medium wp-image-137" height="300" src="/images/uploads/2016/12/Trial3_Dirty_AlmondMilk-300x300.jpg" width="300">     <img alt="" class="alignnone size-medium wp-image-167" height="300" src="/images/uploads/2016/12/Trial3_Clean_AlmondMilk-300x300.jpg" width="300"></p>
<p>This is great and all, but now what? We can’t really use subjective measures to determine cleanliness and call it science!</p>
<p>My daughter and her friend aren’t coders, but I did explain to them that we needed a more scientific way to determine cleanliness. I suggested that we use <code>python</code> to examine the image and determine the brightness of the image.</p>
<p>We could then use some math to compare the brightness.^<a href="#fn:1">1</a>^</p>
<p>Now, onto the code!</p>
<p>OK, let’s import some libraries:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageStat</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</code></pre></div>

<p>There are 2 functions to determine <code>brightness</code> that I found <a href="http://stackoverflow.com/questions/3490727/what-are-some-methods-to-analyze-image-brightness-using-python">here</a>. They were super useful for this project. As an aside, I love StackOverflow!</p>
<div class="highlight"><pre><span></span><code>#<span class="nv">Covert</span> <span class="nv">image</span> <span class="nv">to</span> <span class="nv">greyscale</span>, <span class="k">return</span> <span class="nv">average</span> <span class="nv">pixel</span> <span class="nv">brightness</span>.
<span class="nv">def</span> <span class="nv">brightness01</span><span class="ss">(</span> <span class="nv">im_file</span> <span class="ss">)</span>:
   <span class="nv">im</span> <span class="o">=</span> <span class="nv">Image</span>.<span class="nv">open</span><span class="ss">(</span><span class="nv">im_file</span><span class="ss">)</span>.<span class="nv">convert</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">L</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="nv">stat</span> <span class="o">=</span> <span class="nv">ImageStat</span>.<span class="nv">Stat</span><span class="ss">(</span><span class="nv">im</span><span class="ss">)</span>
   <span class="k">return</span> <span class="nv">stat</span>.<span class="nv">mean</span>[<span class="mi">0</span>]

#<span class="nv">Covert</span> <span class="nv">image</span> <span class="nv">to</span> <span class="nv">greyscale</span>, <span class="k">return</span> <span class="nv">RMS</span> <span class="nv">pixel</span> <span class="nv">brightness</span>.
<span class="nv">def</span> <span class="nv">brightness02</span><span class="ss">(</span> <span class="nv">im_file</span> <span class="ss">)</span>:
   <span class="nv">im</span> <span class="o">=</span> <span class="nv">Image</span>.<span class="nv">open</span><span class="ss">(</span><span class="nv">im_file</span><span class="ss">)</span>.<span class="nv">convert</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">L</span><span class="s1">&#39;</span><span class="ss">)</span>
   <span class="nv">stat</span> <span class="o">=</span> <span class="nv">ImageStat</span>.<span class="nv">Stat</span><span class="ss">(</span><span class="nv">im</span><span class="ss">)</span>
   <span class="k">return</span> <span class="nv">stat</span>.<span class="nv">rms</span>[<span class="mi">0</span>]
</code></pre></div>

<p>The next block of code takes the images and processes them to get the return the brightness levels (both of them) and return them to a <code>DataFrame</code> to be used to write to a <code>csv</code> file.</p>
<p>I named the files in such a way so that I could automate this. It was a bit tedious (and I did have the scientists help) but they were struggling to understand why we were doing what we were doing. Turns out teaching CS concepts is harder than it looks.</p>
<div class="highlight"><pre><span></span><code><span class="nv">f</span> <span class="o">=</span> []
<span class="nv">img_brightness01</span> <span class="o">=</span> []
<span class="nv">img_brightness02</span> <span class="o">=</span> []
<span class="nv">trial</span> <span class="o">=</span> []
<span class="nv">state</span> <span class="o">=</span> []
<span class="nv">method</span> <span class="o">=</span> []
<span class="k">for</span> <span class="nv">filename</span> <span class="nv">in</span> <span class="nv">glob</span>.<span class="nv">glob</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">/Users/Ryan/Dropbox/Abby/Science project 2016/cropped images/**/*</span><span class="s1">&#39;</span>, <span class="nv">recursive</span><span class="o">=</span><span class="nv">True</span><span class="ss">)</span>:
    <span class="nv">f</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">filename</span>.<span class="nv">split</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">/</span><span class="s1">&#39;</span><span class="ss">)</span>[<span class="o">-</span><span class="mi">1</span>]<span class="ss">)</span>
    <span class="nv">img_brightness01</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">round</span><span class="ss">(</span><span class="nv">brightness01</span><span class="ss">(</span><span class="nv">filename</span><span class="ss">)</span>,<span class="mi">0</span><span class="ss">))</span>
    <span class="nv">img_brightness02</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">round</span><span class="ss">(</span><span class="nv">brightness02</span><span class="ss">(</span><span class="nv">filename</span><span class="ss">)</span>,<span class="mi">0</span><span class="ss">))</span>
<span class="k">for</span> <span class="nv">part</span> <span class="nv">in</span> <span class="nv">f</span>:
    <span class="nv">trial</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">part</span>.<span class="nv">split</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">_</span><span class="s1">&#39;</span><span class="ss">)</span>[<span class="mi">0</span>]<span class="ss">)</span>
    <span class="nv">state</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">part</span>.<span class="nv">split</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">_</span><span class="s1">&#39;</span><span class="ss">)</span>[<span class="mi">1</span>]<span class="ss">)</span>
    <span class="nv">method</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">part</span>.<span class="nv">split</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">_</span><span class="s1">&#39;</span><span class="ss">)</span>[<span class="mi">2</span>].<span class="nv">replace</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">.png</span><span class="s1">&#39;</span>, <span class="s1">&#39;&#39;</span><span class="ss">)</span>.<span class="nv">replace</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">.jpg</span><span class="s1">&#39;</span>,<span class="s1">&#39;&#39;</span><span class="ss">))</span>

<span class="nv">dic</span> <span class="o">=</span> {<span class="s1">&#39;</span><span class="s">TrialNumber</span><span class="s1">&#39;</span>: <span class="nv">trial</span>, <span class="s1">&#39;</span><span class="s">SampleState</span><span class="s1">&#39;</span>: <span class="nv">state</span>, <span class="s1">&#39;</span><span class="s">CleaningMethod</span><span class="s1">&#39;</span>: <span class="nv">method</span>, <span class="s1">&#39;</span><span class="s">BrightnessLevel01</span><span class="s1">&#39;</span>: <span class="nv">img_brightness01</span>, <span class="s1">&#39;</span><span class="s">BrightnessLevel02</span><span class="s1">&#39;</span>: <span class="nv">img_brightness02</span>}

<span class="nv">results</span> <span class="o">=</span> <span class="nv">pd</span>.<span class="nv">DataFrame</span><span class="ss">(</span><span class="nv">dic</span><span class="ss">)</span>
</code></pre></div>

<p>I’m writing the output to a <code>csv</code> file here so that the scientist will have their data to make their graphs. This is where my help with them ended.</p>
<div class="highlight"><pre><span></span><code>#write to a csv file
results.to_csv(&#39;/Users/Ryan/Dropbox/Abby/Science project 2016/results.csv&#39;)
</code></pre></div>

<p>Something I wanted to do though was to see what our options were in <code>python</code> for creating graphs. Part of the reason this wasn’t included with the science project is that we were on a time crunch and it was easier for the Scientists to use <a href="https://docs.google.com">Google Docs</a> to create their charts, and part of it was that I didn’t want to cheat them out of creating the charts on their own.</p>
<p>There is a formula below to determine a <code>score</code> which is given by a normalized percentage that was used by them, but the graphing portion below I did after the project was turned in.</p>
<p>Let’s get the setup out of the way:</p>
<div class="highlight"><pre><span></span><code>#Create Bar Charts
trials = [&#39;Trial1&#39;,&#39;Trial2&#39;,&#39;Trial3&#39;]

n_trials = len(trials)
index = np.arange(n_trials)
bar_width = 0.25
bar_buffer = 0.05
opacity = 0.4

graph_color = [&#39;b&#39;, &#39;r&#39;, &#39;g&#39;, &#39;k&#39;]
methods = [&#39;Water&#39;, &#39;SoapAndWater&#39;, &#39;Milk&#39;, &#39;AlmondMilk&#39;]

graph_data = []
</code></pre></div>

<p>Now, let’s loop through each cleaning method and generate a list of scores (where one score is for one trial)</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="nv">singlemethod</span> <span class="nv">in</span> <span class="nv">methods</span>:
    <span class="nv">score</span><span class="o">=</span> []
    <span class="k">for</span> <span class="nv">trialnumber</span> <span class="nv">in</span> <span class="nv">trials</span>:
        <span class="nv">s</span> <span class="o">=</span> <span class="nv">results</span>.<span class="nv">loc</span>[<span class="nv">results</span>[<span class="s1">&#39;</span><span class="s">CleaningMethod</span><span class="s1">&#39;</span>] <span class="o">==</span> <span class="nv">singlemethod</span>].<span class="nv">loc</span>[<span class="nv">results</span>[<span class="s1">&#39;</span><span class="s">TrialNumber</span><span class="s1">&#39;</span>] <span class="o">==</span> <span class="nv">trialnumber</span>].<span class="nv">loc</span>[<span class="nv">results</span>[<span class="s1">&#39;</span><span class="s">SampleState</span><span class="s1">&#39;</span>] <span class="o">==</span> <span class="s1">&#39;</span><span class="s">Start</span><span class="s1">&#39;</span>][[<span class="s1">&#39;</span><span class="s">BrightnessLevel01</span><span class="s1">&#39;</span>]]
        <span class="nv">s</span> <span class="o">=</span> <span class="nv">list</span><span class="ss">(</span><span class="nv">s</span>.<span class="nv">values</span>.<span class="nv">flatten</span><span class="ss">())</span>[<span class="mi">0</span>]
        <span class="nv">d</span> <span class="o">=</span> <span class="nv">results</span>.<span class="nv">loc</span>[<span class="nv">results</span>[<span class="s1">&#39;</span><span class="s">CleaningMethod</span><span class="s1">&#39;</span>] <span class="o">==</span> <span class="nv">singlemethod</span>].<span class="nv">loc</span>[<span class="nv">results</span>[<span class="s1">&#39;</span><span class="s">TrialNumber</span><span class="s1">&#39;</span>] <span class="o">==</span> <span class="nv">trialnumber</span>].<span class="nv">loc</span>[<span class="nv">results</span>[<span class="s1">&#39;</span><span class="s">SampleState</span><span class="s1">&#39;</span>] <span class="o">==</span> <span class="s1">&#39;</span><span class="s">Dirty</span><span class="s1">&#39;</span>][[<span class="s1">&#39;</span><span class="s">BrightnessLevel01</span><span class="s1">&#39;</span>]]
        <span class="nv">d</span> <span class="o">=</span> <span class="nv">list</span><span class="ss">(</span><span class="nv">d</span>.<span class="nv">values</span>.<span class="nv">flatten</span><span class="ss">())</span>[<span class="mi">0</span>]
        <span class="nv">c</span> <span class="o">=</span> <span class="nv">results</span>.<span class="nv">loc</span>[<span class="nv">results</span>[<span class="s1">&#39;</span><span class="s">CleaningMethod</span><span class="s1">&#39;</span>] <span class="o">==</span> <span class="nv">singlemethod</span>].<span class="nv">loc</span>[<span class="nv">results</span>[<span class="s1">&#39;</span><span class="s">TrialNumber</span><span class="s1">&#39;</span>] <span class="o">==</span> <span class="nv">trialnumber</span>].<span class="nv">loc</span>[<span class="nv">results</span>[<span class="s1">&#39;</span><span class="s">SampleState</span><span class="s1">&#39;</span>] <span class="o">==</span> <span class="s1">&#39;</span><span class="s">Clean</span><span class="s1">&#39;</span>][[<span class="s1">&#39;</span><span class="s">BrightnessLevel01</span><span class="s1">&#39;</span>]]
        <span class="nv">c</span> <span class="o">=</span> <span class="nv">list</span><span class="ss">(</span><span class="nv">c</span>.<span class="nv">values</span>.<span class="nv">flatten</span><span class="ss">())</span>[<span class="mi">0</span>]
        <span class="nv">scorepct</span> <span class="o">=</span>  <span class="nv">float</span><span class="ss">((</span><span class="nv">c</span><span class="o">-</span><span class="nv">d</span><span class="ss">)</span> <span class="o">/</span> <span class="ss">(</span><span class="nv">s</span> <span class="o">-</span> <span class="nv">d</span><span class="ss">))</span>
        <span class="nv">score</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">scorepct</span><span class="ss">)</span>
    <span class="nv">graph_data</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">score</span><span class="ss">)</span>
</code></pre></div>

<p>This last section was what stumped me for the longest time. I had such a mental block converting from iterating over items in a list to item counts of a list. After much <a href="https://www.google.com">Googling</a> I was finally able to make the breakthrough I needed and found the idea of looping through a range and everything came together:</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">graph_data</span><span class="p">))</span><span class="err">:</span><span class="w"></span>
<span class="w">    </span><span class="n">plt</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="k">index</span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">bar_width</span><span class="p">)</span><span class="o">*</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">graph_data</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">bar_width</span><span class="o">-</span><span class="mf">.05</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">graph_color</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">methods</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Trial Number&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">plt</span><span class="p">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">i</span><span class="o">-</span><span class="mf">.025</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">plt</span><span class="p">.</span><span class="n">xticks</span><span class="p">(</span><span class="k">index</span><span class="o">+</span><span class="n">bar_width</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">trials</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">plt</span><span class="p">.</span><span class="n">yticks</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mf">.75</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">.5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">.25</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mf">0.25</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"></span>
<span class="w">    </span><span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Brightness Percent Score&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Comparative Brightness Scores&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">plt</span><span class="p">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p>The final output of this code gives:</p>
<p><img alt="" class="alignnone size-medium wp-image-169" height="212" src="/images/uploads/2016/12/Results_Graph-300x212.png" width="300"></p>
<p>From the graph you can see the results are … inconclusive. I’m not sure what the heck happened in Trial 3 but the Scientists were able to make the samples dirtier. Ignoring <code>Trial 3</code> there is no clear winner in either <code>Trial 1</code> or <code>Trial 2</code>.</p>
<p>I think it would have been interesting to have 30 - 45 trials and tested this with a some statistics, but that’s just me wanting to show something to be statistically valid.</p>
<p>I think the best part of all of this was the time I got to spend with my daughter and the thinking through the experiment. I think she and her friend learned a bit more about the scientific method (and hey, isn’t that what this type of thing is all about?).</p>
<p>I was also really excited when her friend said, “Science is pretty cool” and then had a big smile on her face.</p>
<p>They didn’t go onto district, or get a blue ribbon, but they won in that they learned how neat science can be.</p>
<p>::: {.footnotes}</p>
<hr>
<ol>
<li>[The score is the ratio of how clean the cleaning method was able to get the sample compared to where it started, i.e. the ratio of the difference of the <code>cleaned</code> sample and the <code>dirty</code> sample to the difference of the <code>starting</code> sample and the <code>dirty</code> sample.<a href="#fnref:1">↩</a>]{#fn:1}
:::</li>
</ol>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://simonwillison.net">Simon Wilison</a></li>
                            <li><a href="https://www.mattlayman.com">Matt Layman</a></li>
                            <li><a href="https://pybit.es">PyBites</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/ryancheley/">Twitter</a></li>
                            <li><a href="https://github.com/ryancheley">GitHub</a></li>
                            <li><a href="https://www.linkedin.com/in/ryan-cheley/">LinkedIn</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>