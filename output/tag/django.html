<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <title>My Place on the Internet - django</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">My Place on the Internet</a></h1>
                <nav><ul>
                    <li><a href="/category/apple.html">Apple</a></li>
                    <li><a href="/category/automation.html">Automation</a></li>
                    <li><a href="/category/books.html">Books</a></li>
                    <li><a href="/category/coding.html">Coding</a></li>
                    <li><a href="/category/conferences.html">Conferences</a></li>
                    <li><a href="/category/conferenes.html">Conferenes</a></li>
                    <li><a href="/category/django.html">Django</a></li>
                    <li><a href="/category/github.html">GitHub</a></li>
                    <li><a href="/category/ios.html">iOS</a></li>
                    <li><a href="/category/macos.html">macOS</a></li>
                    <li><a href="/category/misc.html">misc</a></li>
                    <li><a href="/category/music.html">Music</a></li>
                    <li><a href="/category/musings.html">Musings</a></li>
                    <li><a href="/category/podcasts.html">Podcasts</a></li>
                    <li><a href="/category/productivity.html">Productivity</a></li>
                    <li><a href="/category/professional-development.html">Professional Development</a></li>
                    <li><a href="/category/python.html">Python</a></li>
                    <li><a href="/category/raspberry-pi.html">Raspberry Pi</a></li>
                    <li><a href="/category/server.html">Server</a></li>
                    <li><a href="/category/sports.html">Sports</a></li>
                    <li><a href="/category/web.html">Web</a></li>
                    <li><a href="/category/writing.html">Writing</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/how-does-my-django-site-connect-to-the-internet-anyway.html">How does my Django site connect to the internet anyway?</a></h1>
<footer class="post-info">
        <abbr class="published" title="2021-05-31T12:49:00+02:00">
                Published: Mon 31 May 2021
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/django.html">Django</a>.</p>
<p>tags: <a href="/tag/digital-ocean.html">digital ocean</a> <a href="/tag/django.html">django</a> <a href="/tag/nginx.html">nginx</a> </p>
</footer><!-- /.post-info --><p>I created a Django site to troll my cousin Barry who is a big <a href="https://www.mlb.com/padres" title="San Diego Padres">San Diego Padres</a> fan. Their Shortstop is a guy called <a href="https://www.baseball-reference.com/players/t/tatisfe02.shtml" title="Fernando “Error Maker” Tatis Jr.">Fernando Tatis Jr.</a> and he’s really good. Like <strong>really</strong> good. He’s also young, and arrogant, and is everything an old dude like me doesn’t like about the ‘new generation’ of ball players that are changing the way the game is played.</p>
<p>In all honesty though, it’s fun to watch him play (anyone but the Dodgers).</p>
<p>The thing about him though, is that while he’s really good at the plate, he’s less good at playing defense. He currently leads the league in errors. Not just for all shortstops, but for ALL players!</p>
<p>Anyway, back to the point. I made this Django site call <a href="https://www.doestatisjrhaveanerrortoday.com" title="Not Yet">Does Tatis Jr Have an Error Today?</a>It is a simple site that only does one thing ... tells you if Tatis Jr has made an error today. If he hasn’t, then it says <code>No</code>, and if he has, then it says <code>Yes</code>.</p>
<p>It’s a dumb site that doesn’t do anything else. At all.</p>
<p>But, what it did do was lead me down a path to answer the question, “How does my site connect to the internet anyway?”</p>
<p>Seems like a simple enough question to answer, and it is, but it wasn’t really what I thought when I started.</p>
<h2>How it works</h2>
<p>I use a MacBook Pro to work on the code. I then deploy it to a Digital Ocean server using GitHub Actions. But they say, a picture is worth a thousand words, so here's a chart of the workflow:</p>
<p><img alt="Workflow" src="https://raw.githubusercontent.com/ryancheley/tatis/main/custom_resources/workflow.png"></p>
<p>This shows the development cycle, but that doesn’t answer the question, how does the site connect to the internet!</p>
<p>How is it that when I go to the site, I see anything? I thought I understood it, and when I tried to actually draw it out, turns out I didn't!</p>
<p>After a bit of Googling, I found <a href="https://serverfault.com/a/331263" title="How does Gunicorn interact with NgInx?">this</a> and it helped me to create this:</p>
<p><img alt="" src="https://raw.githubusercontent.com/ryancheley/tatis/main/custom_resources/internal_working.png"></p>
<p>My site runs on an Ubuntu 18.04 server using Nginx as proxy server. Nginx determines if the request is for a static asset (a css file for example) or dynamic one (something served up by the Django App, like answering if Tatis Jr. has an error today).</p>
<p>If the request is static, then Nginx just gets the static data and server it. If it’s dynamic data it hands off the request to Gunicorn which then interacts with the Django App.</p>
<p>So, what actually handles the HTTP request? From the <a href="https://serverfault.com/a/331263">serverfault.com answer above</a>:</p>
<blockquote>
<p>[T]he simple answer is Gunicorn. The complete answer is both Nginx and Gunicorn handle the request. Basically, Nginx will receive the request and if it's a dynamic request (generally based on URL patterns) then it will give that request to Gunicorn, which will process it, and then return a response to Nginx which then forwards the response back to the original client.</p>
</blockquote>
<p>In my head, I thought that Nginx was ONLY there to handle the static requests (and it is) but I wasn’t clean on how dynamic requests were handled ... but drawing this out really made me stop and ask, “Wait, how DOES that actually work?”</p>
<p>Now I know, and hopefully you do to!</p>
<h2>Notes:</h2>
<p>These diagrams are generated using the amazing library <a href="https://github.com/mingrammer/diagrams" title="Diagrams">Diagrams</a>. The code used to generate them is <a href="https://github.com/ryancheley/tatis/blob/main/generate_diagram.py">here</a>.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="/logging-in-a-django-app.html" rel="bookmark"
                           title="Permalink to Logging in a Django App">Logging in a Django App</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2020-10-21T17:39:00+02:00">
                Published: Wed 21 October 2020
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/django.html">Django</a>.</p>
<p>tags: <a href="/tag/digital-ocean.html">digital ocean</a> <a href="/tag/django.html">django</a> </p>
</footer><!-- /.post-info -->                <p>Per the <a href="https://docs.djangoproject.com/en/3.1/ref/settings/#std:setting-ADMINS">Django Documentation</a> you can set up</p>
<blockquote>
<p>A list of all the people who get code error notifications. When DEBUG=False and AdminEmailHandler is configured in LOGGING (done by default), Django emails these people the details of exceptions raised in the request/response cycle.</p>
</blockquote>
<p>In order to set this …</p>
                <a class="readmore" href="/logging-in-a-django-app.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/cbv-passwordchangedoneview.html" rel="bookmark"
                           title="Permalink to CBV - PasswordChangeDoneView">CBV - PasswordChangeDoneView</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-12-25T10:00:00+01:00">
                Published: Wed 25 December 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/django.html">Django</a>.</p>
<p>tags: <a href="/tag/cbv.html">CBV</a> <a href="/tag/class-based-views.html">class based views</a> <a href="/tag/django.html">django</a> </p>
</footer><!-- /.post-info -->                <p>From <a href="http://ccbv.co.uk/projects/Django/2.2/django.contrib.auth.views/PasswordChangeDoneView/">Classy Class Based Views</a> <code>PasswordChangeDoneView</code></p>
<blockquote>
<blockquote>
<p>Render a template. Pass keyword arguments from the URLconf to the context.</p>
</blockquote>
</blockquote>
<h2>Attributes</h2>
<ul>
<li>template_name: Much like the <code>LogoutView</code> the default view is the Django skin. Create your own <code>password_change_done.html</code> file to keep the user experience consistent across the site.</li>
<li>title: the default uses …</li></ul>
                <a class="readmore" href="/cbv-passwordchangedoneview.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/cbv-passwordchangeview.html" rel="bookmark"
                           title="Permalink to CBV - PasswordChangeView">CBV - PasswordChangeView</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-12-22T10:00:00+01:00">
                Published: Sun 22 December 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/django.html">Django</a>.</p>
<p>tags: <a href="/tag/cbv.html">CBV</a> <a href="/tag/class-based-views.html">class based views</a> <a href="/tag/django.html">django</a> </p>
</footer><!-- /.post-info -->                <p>From <a href="http://ccbv.co.uk/projects/Django/2.2/django.contrib.auth.views/PasswordChangeView/">Classy Class Based Views</a> <code>PasswordChangeView</code></p>
<blockquote>
<blockquote>
<p>A view for displaying a form and rendering a template response.</p>
</blockquote>
</blockquote>
<h2>Attributes</h2>
<ul>
<li>form_class: The form that will be used by the template created. Defaults to Django’s <code>PasswordChangeForm</code></li>
<li>success_url: If you’ve created your own custom PasswordChangeDoneView then you’ll need to update this …</li></ul>
                <a class="readmore" href="/cbv-passwordchangeview.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/cbv-loginview.html" rel="bookmark"
                           title="Permalink to CBV - LoginView">CBV - LoginView</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-12-15T10:00:00+01:00">
                Published: Sun 15 December 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/django.html">Django</a>.</p>
<p>tags: <a href="/tag/authentication.html">authentication</a> <a href="/tag/cbv.html">CBV</a> <a href="/tag/class-based-views.html">class based views</a> <a href="/tag/django.html">django</a> </p>
</footer><!-- /.post-info -->                <p>From <a href="http://ccbv.co.uk/projects/Django/2.2/django.contrib.auth.views/LoginView/">Classy Class Based Views</a> <code>LoginView</code></p>
<blockquote>
<blockquote>
<p>Display the login form and handle the login action.</p>
</blockquote>
</blockquote>
<h2>Attributes</h2>
<ul>
<li>authentication_form: Allows you to subclass <code>AuthenticationForm</code> if needed. You would want to do this IF you need other fields besides username and password for login OR you want to implement other logic than just …</li></ul>
                <a class="readmore" href="/cbv-loginview.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/cbv-logoutview.html" rel="bookmark"
                           title="Permalink to CBV - LogoutView">CBV - LogoutView</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-12-15T10:00:00+01:00">
                Published: Sun 15 December 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/django.html">Django</a>.</p>
<p>tags: <a href="/tag/authentication.html">authentication</a> <a href="/tag/cbv.html">CBV</a> <a href="/tag/class-based-views.html">class based views</a> <a href="/tag/django.html">django</a> </p>
</footer><!-- /.post-info -->                <p>From <a href="http://ccbv.co.uk/projects/Django/2.2/django.contrib.auth.views/LogoutView/">Classy Class Based Views</a> <code>LogoutView</code></p>
<blockquote>
<blockquote>
<p>Log out the user and display the 'You are logged out' message.</p>
</blockquote>
</blockquote>
<h2>Attributes</h2>
<ul>
<li>next_page: redirects the user on logout.</li>
<li><a href="https://docs.djangoproject.com/en/2.2/topics/auth/default/#django.contrib.auth.views.LogoutView">redirect_field_name</a>: The name of a GET field containing the URL to redirect to after log out. Defaults to next. Overrides the next_page URL if the …</li></ul>
                <a class="readmore" href="/cbv-logoutview.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/cbv-deleteview.html" rel="bookmark"
                           title="Permalink to CBV - DeleteView">CBV - DeleteView</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-12-11T10:00:00+01:00">
                Published: Wed 11 December 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/django.html">Django</a>.</p>
<p>tags: <a href="/tag/cbv.html">CBV</a> <a href="/tag/class-based-views.html">class based views</a> <a href="/tag/django.html">django</a> </p>
</footer><!-- /.post-info -->                <p>From <a href="http://ccbv.co.uk/projects/Django/2.2/django.views.generic.edit/DeleteView/">Classy Class Based Views</a> <code>DeleteView</code></p>
<blockquote>
<blockquote>
<p>View for deleting an object retrieved with self.get<em>object(), with a<br>
</em></p>
</blockquote>
</blockquote>
<p>response rendered by a template.</p>
<h2>Attributes</h2>
<p>There are no new attributes, but 2 that we’ve seen are required: (1) <code>queryset</code> or <code>model</code>; and (2) <code>success_url</code></p>
<h2>Example</h2>
<p>views.py</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="n">myDeleteView</span>(<span class="n">DeleteView …</span></code></pre></div>
                <a class="readmore" href="/cbv-deleteview.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/cbv-updateview.html" rel="bookmark"
                           title="Permalink to CBV - UpdateView">CBV - UpdateView</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-12-08T10:00:00+01:00">
                Published: Sun 08 December 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/django.html">Django</a>.</p>
<p>tags: <a href="/tag/cbv.html">CBV</a> <a href="/tag/class-based-views.html">class based views</a> <a href="/tag/django.html">django</a> </p>
</footer><!-- /.post-info -->                <p>From <a href="http://ccbv.co.uk/projects/Django/2.2/django.views.generic.edit/UpdateView/">Classy Class Based Views</a> <code>UpdateView</code></p>
<blockquote>
<blockquote>
<p>View for updating an object, with a response rendered by a template.</p>
</blockquote>
</blockquote>
<h2>Attributes</h2>
<p>Two attributes are required to get the template to render. We’ve seen <code>queryset</code> before and in <a href="/cbv-createview/">CreateView</a> we saw <code>fields</code>. As a brief refresher</p>
<ul>
<li>fields: specifies what fields from the …</li></ul>
                <a class="readmore" href="/cbv-updateview.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/my-first-commit-to-an-open-source-project-django.html" rel="bookmark"
                           title="Permalink to My first commit to an Open Source Project: Django">My first commit to an Open Source Project: Django</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-12-07T15:54:00+01:00">
                Published: Sat 07 December 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/django.html">Django</a>.</p>
<p>tags: <a href="/tag/django.html">django</a> <a href="/tag/documentation.html">documentation</a> <a href="/tag/github.html">Github</a> </p>
</footer><!-- /.post-info -->                <p>Last September the annual Django Con was held in San Diego. I <strong>really</strong> wanted to go, but because of other projects and conferences for my job, I wasn’t able to make it.</p>
<p>The next best thing to to watch the <a href="https://www.youtube.com/playlist?list=PL2NFhrDSOxgXXUMIGOs8lNe2B-f4pXOX-">videos from DjangoCon on YouTube</a>. I watched a couple …</p>
                <a class="readmore" href="/my-first-commit-to-an-open-source-project-django.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/cbv-formview.html" rel="bookmark"
                           title="Permalink to CBV - FormView">CBV - FormView</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-12-04T10:00:00+01:00">
                Published: Wed 04 December 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/django.html">Django</a>.</p>
<p>tags: <a href="/tag/cbv.html">CBV</a> <a href="/tag/class-based-views.html">class based views</a> <a href="/tag/django.html">django</a> </p>
</footer><!-- /.post-info -->                <p>From <a href="http://ccbv.co.uk/projects/Django/2.2/django.views.generic.edit/FormView/">Classy Class Based Views</a> <code>FormView</code></p>
<blockquote>
<blockquote>
<p>A view for displaying a form and rendering a template response.</p>
</blockquote>
</blockquote>
<h2>Attributes</h2>
<p>The only new attribute to review this time is <code>form_class</code>. That being said, there are a few implementation details to cover</p>
<ul>
<li>form_class: takes a Form class and is used to render the …</li></ul>
                <a class="readmore" href="/cbv-formview.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 3
        <a href="/tag/django2.html">&raquo;</a>
        <a href="/tag/django3.html">&#8649;</a>
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://simonwillison.net">Simon Wilison</a></li>
                            <li><a href="https://www.mattlayman.com">Matt Layman</a></li>
                            <li><a href="https://pybit.es">PyBites</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/ryancheley/">Twitter</a></li>
                            <li><a href="https://github.com/ryancheley">GitHub</a></li>
                            <li><a href="https://www.linkedin.com/in/ryan-cheley/">LinkedIn</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>