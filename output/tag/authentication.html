<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <title>My Place on the Internet - authentication</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">My Place on the Internet</a></h1>
                <nav><ul>
                    <li><a href="/category/apple.html">Apple</a></li>
                    <li><a href="/category/automation.html">Automation</a></li>
                    <li><a href="/category/books.html">Books</a></li>
                    <li><a href="/category/coding.html">Coding</a></li>
                    <li><a href="/category/conferences.html">Conferences</a></li>
                    <li><a href="/category/conferenes.html">Conferenes</a></li>
                    <li><a href="/category/django.html">Django</a></li>
                    <li><a href="/category/github.html">GitHub</a></li>
                    <li><a href="/category/ios.html">iOS</a></li>
                    <li><a href="/category/macos.html">macOS</a></li>
                    <li><a href="/category/misc.html">misc</a></li>
                    <li><a href="/category/music.html">Music</a></li>
                    <li><a href="/category/musings.html">Musings</a></li>
                    <li><a href="/category/podcasts.html">Podcasts</a></li>
                    <li><a href="/category/productivity.html">Productivity</a></li>
                    <li><a href="/category/professional-development.html">Professional Development</a></li>
                    <li><a href="/category/python.html">Python</a></li>
                    <li><a href="/category/raspberry-pi.html">Raspberry Pi</a></li>
                    <li><a href="/category/server.html">Server</a></li>
                    <li><a href="/category/sports.html">Sports</a></li>
                    <li><a href="/category/web.html">Web</a></li>
                    <li><a href="/category/writing.html">Writing</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/cbv-loginview.html">CBV - LoginView</a></h1>
<footer class="post-info">
        <abbr class="published" title="2019-12-15T10:00:00+01:00">
                Published: Sun 15 December 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/django.html">Django</a>.</p>
<p>tags: <a href="/tag/authentication.html">authentication</a> <a href="/tag/cbv.html">CBV</a> <a href="/tag/class-based-views.html">class based views</a> <a href="/tag/django.html">django</a> </p>
</footer><!-- /.post-info --><p>From <a href="http://ccbv.co.uk/projects/Django/2.2/django.contrib.auth.views/LoginView/">Classy Class Based Views</a> <code>LoginView</code></p>
<blockquote>
<blockquote>
<p>Display the login form and handle the login action.</p>
</blockquote>
</blockquote>
<h2>Attributes</h2>
<ul>
<li>authentication_form: Allows you to subclass <code>AuthenticationForm</code> if needed. You would want to do this IF you need other fields besides username and password for login OR you want to implement other logic than just account creation, i.e. account verification must be done as well. For details see <a href="https://simpleisbetterthancomplex.com/tips/2016/08/12/django-tip-10-authentication-form-custom-login-policy.html">example</a> by Vitor Freitas for more details</li>
<li>form_class: The form that will be used by the template created. Defaults to Django’s <code>AuthenticationForm</code></li>
<li>redirect_authenticated_user: If the user is logged in then when they attempt to go to your login page it will redirect them to the <code>LOGIN_REDIRECT_URL</code> configured in your <code>settings.py</code></li>
<li>redirect_field_name: similar idea to updating what the <code>next</code> field will be from the <code>DetailView</code>. If this is specified then you’ll most likely need to create a custom login template.</li>
<li>template_name: The default value for this is <code>registration\login.html</code>, i.e. a file called <code>login.html</code> in the <code>registration</code> directory of the <code>templates</code> directory.</li>
</ul>
<p>There are no required attributes for this view, which is nice because you can just add <code>pass</code> to the view and you’re set (for the view anyway you still need an html file).</p>
<p>You’ll also need to update <code>settings.py</code> to include a value for the <code>LOGIN_REDIRECT_URL</code>.</p>
<h3>Note on redirect_field_name</h3>
<p>Per the <a href="https://docs.djangoproject.com/en/2.2/topics/auth/default/#django.contrib.auth.decorators.login_required">Django Documentation</a>:</p>
<blockquote>
<blockquote>
<p>If the user isn’t logged in, redirect to settings.LOGIN<em>URL, passing the current absolute path in the query string. Example: /accounts/login/?next=/polls/3/.<br>
</em></p>
</blockquote>
</blockquote>
<p>If <code>redirect_field_name</code> is set then the URL would be:</p>
<div class="highlight"><pre><span></span><code>/accounts/login/?&lt;redirect_field_name&gt;=/polls/3
</code></pre></div>

<p>Basically, you only use this if you have a pretty good reason.</p>
<h2>Example</h2>
<p>views.py</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="n">myLoginView</span>(<span class="n">LoginView</span>):
    <span class="nb">pass</span>
</code></pre></div>

<p>urls.py</p>
<div class="highlight"><pre><span></span><code>path(&#39;login_view/&#39;, views.myLoginView.as_view(), name=&#39;login_view&#39;),
</code></pre></div>

<p>registration/login.html</p>
<div class="highlight"><pre><span></span><code><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">load</span> <span class="nv">i18n</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">&quot;post&quot;</span> <span class="na">action=</span><span class="s">&quot;.&quot;</span><span class="nt">&gt;</span>
  <span class="cp">{%</span> <span class="k">csrf_token</span> <span class="cp">%}</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;mui--text-danger&quot;</span><span class="nt">&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">error</span> <span class="k">in</span> <span class="nv">form.non_field_errors</span> <span class="cp">%}</span>
      <span class="cp">{{</span><span class="nv">error</span><span class="cp">}}</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;mui-textfield&quot;</span><span class="nt">&gt;</span>
    <span class="cp">{{</span> <span class="nv">form.username.label</span> <span class="cp">}}</span>
    <span class="cp">{{</span> <span class="nv">form.username</span> <span class="cp">}}</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;mui-textfield&quot;</span><span class="nt">&gt;</span>
    <span class="cp">{{</span> <span class="nv">form.password.label</span> <span class="cp">}}</span>
    <span class="cp">{{</span> <span class="nv">form.password</span> <span class="cp">}}</span>
  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;input</span> <span class="na">class=</span><span class="s">&quot;mui-btn mui-btn--primary&quot;</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;</span><span class="cp">{%</span> <span class="k">trans</span> <span class="s1">&#39;Log in&#39;</span> <span class="cp">%}</span><span class="s">&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name=</span><span class="s">&quot;next&quot;</span> <span class="na">value=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">request.GET.next</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>

<span class="nt">&lt;br&gt;&lt;div</span> <span class="na">class=</span><span class="s">&quot;mui-divider&quot;</span><span class="nt">&gt;&lt;/div&gt;&lt;br&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</code></pre></div>

<p>settings.py</p>
<div class="highlight"><pre><span></span><code>LOGIN_REDIRECT_URL = &#39;/&lt;app_name&gt;/&#39;
</code></pre></div>

<h2>Diagram</h2>
<p>A visual representation of how <code>LoginView</code> is derived can be seen here:</p>
<p><img alt="" src="https://yuml.me/diagram/plain;/class/%5BSuccessURLAllowedHostsMixin%7Bbg:white%7D%5D%5E-%5BLoginView%7Bbg:green%7D%5D,%20%5BFormView%7Bbg:lightblue%7D%5D%5E-%5BLoginView%7Bbg:green%7D%5D,%20%5BTemplateResponseMixin%7Bbg:white%7D%5D%5E-%5BFormView%7Bbg:lightblue%7D%5D,%20%5BBaseFormView%7Bbg:white%7D%5D%5E-%5BFormView%7Bbg:lightblue%7D%5D,%20%5BFormMixin%7Bbg:white%7D%5D%5E-%5BBaseFormView%7Bbg:white%7D%5D,%20%5BContextMixin%7Bbg:white%7D%5D%5E-%5BFormMixin%7Bbg:white%7D%5D,%20%5BProcessFormView%7Bbg:white%7D%5D%5E-%5BBaseFormView%7Bbg:white%7D%5D,%20%5BView%7Bbg:lightblue%7D%5D%5E-%5BProcessFormView%7Bbg:white%7D%5D.svg"></p>
<h2>Conclusion</h2>
<p>Really easy to implement right out of the box but allows some nice customization. That being said, make those customizations IF you need to, not just because you think you want to.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="/cbv-logoutview.html" rel="bookmark"
                           title="Permalink to CBV - LogoutView">CBV - LogoutView</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-12-15T10:00:00+01:00">
                Published: Sun 15 December 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/django.html">Django</a>.</p>
<p>tags: <a href="/tag/authentication.html">authentication</a> <a href="/tag/cbv.html">CBV</a> <a href="/tag/class-based-views.html">class based views</a> <a href="/tag/django.html">django</a> </p>
</footer><!-- /.post-info -->                <p>From <a href="http://ccbv.co.uk/projects/Django/2.2/django.contrib.auth.views/LogoutView/">Classy Class Based Views</a> <code>LogoutView</code></p>
<blockquote>
<blockquote>
<p>Log out the user and display the 'You are logged out' message.</p>
</blockquote>
</blockquote>
<h2>Attributes</h2>
<ul>
<li>next_page: redirects the user on logout.</li>
<li><a href="https://docs.djangoproject.com/en/2.2/topics/auth/default/#django.contrib.auth.views.LogoutView">redirect_field_name</a>: The name of a GET field containing the URL to redirect to after log out. Defaults to next. Overrides the next_page URL if the …</li></ul>
                <a class="readmore" href="/cbv-logoutview.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://simonwillison.net">Simon Wilison</a></li>
                            <li><a href="https://www.mattlayman.com">Matt Layman</a></li>
                            <li><a href="https://pybit.es">PyBites</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/ryancheley/">Twitter</a></li>
                            <li><a href="https://github.com/ryancheley">GitHub</a></li>
                            <li><a href="https://www.linkedin.com/in/ryan-cheley/">LinkedIn</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>