<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <title>Receipts</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <meta name="description" content="Every month I set up a budget for my family so that we can track our spending and save money in the ways that we need to while still being able to..." />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">My Place on the Internet</a></h1>
                <nav><ul>
                    <li><a href="/category/apple.html">Apple</a></li>
                    <li class="active"><a href="/category/automation.html">Automation</a></li>
                    <li><a href="/category/books.html">Books</a></li>
                    <li><a href="/category/coding.html">Coding</a></li>
                    <li><a href="/category/conferences.html">Conferences</a></li>
                    <li><a href="/category/conferenes.html">Conferenes</a></li>
                    <li><a href="/category/django.html">Django</a></li>
                    <li><a href="/category/github.html">GitHub</a></li>
                    <li><a href="/category/ios.html">iOS</a></li>
                    <li><a href="/category/macos.html">macOS</a></li>
                    <li><a href="/category/misc.html">misc</a></li>
                    <li><a href="/category/music.html">Music</a></li>
                    <li><a href="/category/musings.html">Musings</a></li>
                    <li><a href="/category/podcasts.html">Podcasts</a></li>
                    <li><a href="/category/productivity.html">Productivity</a></li>
                    <li><a href="/category/professional-development.html">Professional Development</a></li>
                    <li><a href="/category/python.html">Python</a></li>
                    <li><a href="/category/raspberry-pi.html">Raspberry Pi</a></li>
                    <li><a href="/category/server.html">Server</a></li>
                    <li><a href="/category/sports.html">Sports</a></li>
                    <li><a href="/category/web.html">Web</a></li>
                    <li><a href="/category/writing.html">Writing</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/receipts.html" rel="bookmark"
           title="Permalink to Receipts">Receipts</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-03-16T05:37:00+01:00">
                Published: Sat 16 March 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ryan.html">ryan</a>
        </address>
<p>In <a href="/category/automation.html">Automation</a>.</p>
<p>tags: <a href="/tag/ios.html">iOS</a> <a href="/tag/siri-shortcuts.html">Siri Shortcuts</a> </p>
</footer><!-- /.post-info -->      <p>Every month I set up a budget for my family so that we can track our spending and save money in the ways that we need to while still being able to enjoy life.</p>
<p>I have a couple of Siri Shortcuts that will take a picture and then put that picture into a folder in Dropbox. The reason that I have a couple of them is that one is for physical receipts that we got at a store and the other is for online purchases. I’m sure that these couple be combined into one, but I haven’t done that yet.</p>
<p>One of the great things about these shortcuts is that they will create the folder that the image will go into if it’s not there. For example, the first receipt of March 2019 will create a folder called <strong>March</strong> in the <strong>2019</strong> folder. If the <strong>2019</strong> folder wasn’t there, it would have created it too.</p>
<p>What it doesn’t do is create the sub folder that all of my processed receipts will go into. Each month I need to create a folder called <code>month_name</code> Processed. And each month I think, there must be a way I can automate this, but because it doesn’t really take that long I’ve never really done it.</p>
<p>Over the weekend I finally had the time to try and write it up and test it out. Nothing too fancy, but it does what I want it to do, and a little more.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># create the variables I&#39;m going to need later</span>

<span class="n">y</span><span class="o">=$</span><span class="p">(</span> <span class="n">date</span> <span class="o">+</span><span class="s2">&quot;%Y&quot;</span> <span class="p">)</span>
<span class="n">m</span><span class="o">=$</span><span class="p">(</span> <span class="n">date</span> <span class="o">+</span><span class="s2">&quot;%B&quot;</span> <span class="p">)</span>
<span class="n">p</span><span class="o">=$</span><span class="p">(</span> <span class="n">date</span> <span class="o">+</span><span class="s2">&quot;%B_Processed&quot;</span> <span class="p">)</span>

<span class="c1"># check to see if the Year folder exists and if it doesn&#39;t, create it</span>
<span class="k">if</span> <span class="p">[</span> <span class="o">!</span> <span class="o">-</span><span class="n">d</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">ryan</span><span class="o">/</span><span class="n">Dropbox</span><span class="o">/</span><span class="n">Family</span><span class="o">/</span><span class="n">Financials</span><span class="o">/$</span><span class="n">y</span> <span class="p">];</span> <span class="n">then</span>
    <span class="n">mkdir</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">ryan</span><span class="o">/</span><span class="n">Dropbox</span><span class="o">/</span><span class="n">Family</span><span class="o">/</span><span class="n">Financials</span><span class="o">/$</span><span class="n">y</span>
<span class="n">fi</span>

<span class="c1"># check to see if the Month folder exists and if it doesn&#39;t, create it</span>
<span class="k">if</span> <span class="p">[</span> <span class="o">!</span> <span class="o">-</span><span class="n">d</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">ryan</span><span class="o">/</span><span class="n">Dropbox</span><span class="o">/</span><span class="n">Family</span><span class="o">/</span><span class="n">Financials</span><span class="o">/$</span><span class="n">y</span><span class="o">/$</span><span class="n">m</span> <span class="p">];</span> <span class="n">then</span>
    <span class="n">mkdir</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">ryan</span><span class="o">/</span><span class="n">Dropbox</span><span class="o">/</span><span class="n">Family</span><span class="o">/</span><span class="n">Financials</span><span class="o">/$</span><span class="n">y</span><span class="o">/$</span><span class="n">m</span>
<span class="n">fi</span>

<span class="c1">#check to see if the Month_Processed folder exists and if it doesn&#39;t, create it</span>
<span class="k">if</span> <span class="p">[</span> <span class="o">!</span> <span class="o">-</span><span class="n">d</span> <span class="s2">&quot;/Users/ryan/Dropbox/Family/Financials/$y/$m/$p&quot;</span> <span class="p">];</span> <span class="n">then</span>
    <span class="n">mkdir</span> <span class="s2">&quot;/Users/ryan/Dropbox/Family/Financials/$y/$m/$p&quot;</span>
<span class="n">fi</span>
</code></pre></div>

<p>The last section I use the double quotes “” around the directory name so that I can have a space in the name of the processed folder. Initially I had used an underscore but that’s not how I do it in real life when creating the sub directors, so I had to do a bit of googling and found a helpful <a href="https://ubuntuforums.org/showthread.php?t=1962625">resource</a>.</p>
<p>The only thing left to do at this point is get it set up to run automatically so I don’t have to do anything.</p>
<p>In order to do that I needed to add the following to my cronjob:</p>
<div class="highlight"><pre><span></span><code><span class="mf">0</span> <span class="mf">5</span> <span class="mf">1</span> <span class="o">*</span> <span class="o">*</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">ryan</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">create_monthly_expense_folders</span><span class="mf">.</span><span class="n">sh</span>
</code></pre></div>

<p>And now I will have my folder structure created for me automatically on the first of the month at 5am!</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://simonwillison.net">Simon Wilison</a></li>
                            <li><a href="https://www.mattlayman.com">Matt Layman</a></li>
                            <li><a href="https://pybit.es">PyBites</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/ryancheley/">Twitter</a></li>
                            <li><a href="https://github.com/ryancheley">GitHub</a></li>
                            <li><a href="https://www.linkedin.com/in/ryan-cheley/">LinkedIn</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>