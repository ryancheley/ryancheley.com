<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>My Place on the Internet - Server</title><link href="https://www.ryancheley.com/" rel="alternate"></link><link href="https://www.ryancheley.com/feeds/server.atom.xml" rel="self"></link><id>https://www.ryancheley.com/</id><updated>2021-01-31T12:00:00+01:00</updated><entry><title>Setting up the Server (on Digital Ocean)</title><link href="https://www.ryancheley.com/setting-up-the-server-on-digital-ocean.html" rel="alternate"></link><published>2021-01-31T12:00:00+01:00</published><updated>2021-01-31T12:00:00+01:00</updated><author><name>ryan</name></author><id>tag:www.ryancheley.com,2021-01-31:/setting-up-the-server-on-digital-ocean.html</id><summary type="html">&lt;h2&gt;The initial setup&lt;/h2&gt;
&lt;p&gt;Digital Ocean has a pretty nice API which makes it easy to automate the creation of their servers (which they call &lt;code&gt;Droplets&lt;/code&gt;. This is nice when you‚Äôre trying to work towards automation of the entire process (like I was).&lt;/p&gt;
&lt;p&gt;I won‚Äôt jump into the automation ‚Ä¶&lt;/p&gt;</summary><content type="html">&lt;h2&gt;The initial setup&lt;/h2&gt;
&lt;p&gt;Digital Ocean has a pretty nice API which makes it easy to automate the creation of their servers (which they call &lt;code&gt;Droplets&lt;/code&gt;. This is nice when you‚Äôre trying to work towards automation of the entire process (like I was).&lt;/p&gt;
&lt;p&gt;I won‚Äôt jump into the automation piece just yet, but once you have your DO account setup (sign up &lt;a href="https://m.do.co/c/cc5fdad15654"&gt;here&lt;/a&gt; if you don‚Äôt have one), it‚Äôs a simple interface to &lt;a href="https://www.digitalocean.com/docs/droplets/how-to/create/"&gt;Setup Your Droplet&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I chose the Ubuntu 18.04 LTS image with a \$5 server (1GB Ram, 1CPU, 25GB SSD Space, 1000GB Transfer) hosted in their San Francisco data center (SFO2^&lt;a class="footnote" href="#fn1" id="ffn1"&gt;1&lt;/a&gt;^).&lt;/p&gt;
&lt;h2&gt;We‚Äôve got a server ‚Ä¶ now what?&lt;/h2&gt;
&lt;p&gt;We‚Äôre going to want to update, upgrade, and install all of the (non-Python) packages for the server. For my case, that meant running the following:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;apt-get update
apt-get upgrade
apt-get install python3 python3-pip python3-venv tree postgresql postgresql-contrib nginx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;That‚Äôs it! We‚Äôve now got a server that is ready to be setup for our Django Project.&lt;/p&gt;
&lt;p&gt;In the next post, I‚Äôll walk through how to get your Domain Name to point to the Digital Ocean Server.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;[SFO2 is disabled for new customers and you will now need to use SFO3 unless you already have resources on SFO2, but if you‚Äôre following along you probably don‚Äôt. What‚Äôs the difference between the two? Nothing üòÅ &lt;a href="#ffn1"&gt;‚Ü©&lt;/a&gt;]{#fn1}&lt;/li&gt;
&lt;/ol&gt;</content><category term="Server"></category><category term="Deployment"></category><category term="series"></category></entry><entry><title>SSL ... Finally!</title><link href="https://www.ryancheley.com/ssl-finally.html" rel="alternate"></link><published>2018-04-07T20:16:00+02:00</published><updated>2018-04-07T20:16:00+02:00</updated><author><name>ryan</name></author><id>tag:www.ryancheley.com,2018-04-07:/ssl-finally.html</id><summary type="html">&lt;p&gt;I‚Äôve been futzing around with SSL on this site since last December. I‚Äôve had about 4 attempts and it just never seemed to work.&lt;/p&gt;
&lt;p&gt;Earlier this evening I was thinking about getting a second &lt;a href="https://www.linode.com"&gt;Linode&lt;/a&gt; just to get a fresh start. I was &lt;em&gt;this&lt;/em&gt; close to getting it ‚Ä¶&lt;/p&gt;</summary><content type="html">&lt;p&gt;I‚Äôve been futzing around with SSL on this site since last December. I‚Äôve had about 4 attempts and it just never seemed to work.&lt;/p&gt;
&lt;p&gt;Earlier this evening I was thinking about getting a second &lt;a href="https://www.linode.com"&gt;Linode&lt;/a&gt; just to get a fresh start. I was &lt;em&gt;this&lt;/em&gt; close to getting it when I thought, what the hell, let me try to work it out one more time.&lt;/p&gt;
&lt;p&gt;And this time it actually worked.&lt;/p&gt;
&lt;p&gt;I‚Äôm not really sure what I did differently, but using this &lt;a href="https://certbot.eff.org/lets-encrypt/ubuntuxenial-apache"&gt;site&lt;/a&gt; seemed to make all of the difference.&lt;/p&gt;
&lt;p&gt;The only other thing I had to do was make a change in the word press settings (from &lt;code&gt;http&lt;/code&gt; to &lt;code&gt;https&lt;/code&gt;) and enable a plugin &lt;a href="https://really-simple-ssl.com"&gt;Really Simple SSL&lt;/a&gt; and it finally worked.&lt;/p&gt;
&lt;p&gt;I even got an ‚ÄòA‚Äô from SSL Labs!&lt;/p&gt;
&lt;p&gt;&lt;img alt="" class="alignnone size-full wp-image-265" height="2048" src="/images/uploads/2018/04/Image-4-7-18-9-15-PM.png" width="2732"&gt;&lt;/p&gt;
&lt;p&gt;Again, not really sure why this seemed so hard and took so long.&lt;/p&gt;
&lt;p&gt;I guess sometimes you just have to try over and over and over again&lt;/p&gt;</content><category term="Server"></category><category term="SSL"></category></entry><entry><title>Setting the Timezone on my server</title><link href="https://www.ryancheley.com/setting-the-timezone-on-my-server.html" rel="alternate"></link><published>2017-12-15T02:41:00+01:00</published><updated>2017-12-15T02:41:00+01:00</updated><author><name>ryan</name></author><id>tag:www.ryancheley.com,2017-12-15:/setting-the-timezone-on-my-server.html</id><summary type="html">&lt;p&gt;When I scheduled my last post on December 14th to be published at 6pm that night I noticed that the schedule time was a bit ‚Ä¶ off:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" class="alignnone size-full wp-image-99" height="479" src="/images/uploads/2017/12/Image-12-14-17-6-36-PM.jpeg" width="601"&gt;&lt;/p&gt;
&lt;p&gt;I realized that the server times as still set to GMT and that I had missed the step in the Linode Getting Started guide ‚Ä¶&lt;/p&gt;</summary><content type="html">&lt;p&gt;When I scheduled my last post on December 14th to be published at 6pm that night I noticed that the schedule time was a bit ‚Ä¶ off:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" class="alignnone size-full wp-image-99" height="479" src="/images/uploads/2017/12/Image-12-14-17-6-36-PM.jpeg" width="601"&gt;&lt;/p&gt;
&lt;p&gt;I realized that the server times as still set to GMT and that I had missed the step in the Linode Getting Started guide to Set the Timezone.&lt;/p&gt;
&lt;p&gt;No problem, just found the Guide, went to &lt;a href="https://linode.com/docs/getting-started/#set-the-timezone" title="Set the Timezone"&gt;this&lt;/a&gt; section and ran the following command:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo dpkg-reconfigure tzdata&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;I then selected my country (US) and my time zone (Pacific-Ocean) and now the server has the right timezone.&lt;/p&gt;</content><category term="Server"></category></entry><entry><title>Setting up the site with SSL</title><link href="https://www.ryancheley.com/setting-up-the-site-with-ssl.html" rel="alternate"></link><published>2017-12-15T02:00:00+01:00</published><updated>2017-12-15T02:00:00+01:00</updated><author><name>ryan</name></author><id>tag:www.ryancheley.com,2017-12-15:/setting-up-the-site-with-ssl.html</id><summary type="html">&lt;p&gt;I‚Äôve written about my migration from Squarespace to Wordpress earlier this year. One thing I lost with that migration when I went to Wordpress in AWS was having SSL available. While I‚Äôm sure Van Hoet will ‚Äúwell actually‚Äù me on this, I never could figure out how to ‚Ä¶&lt;/p&gt;</summary><content type="html">&lt;p&gt;I‚Äôve written about my migration from Squarespace to Wordpress earlier this year. One thing I lost with that migration when I went to Wordpress in AWS was having SSL available. While I‚Äôm sure Van Hoet will ‚Äúwell actually‚Äù me on this, I never could figure out how to set it up ( not that I tried particularly hard ).&lt;/p&gt;
&lt;p&gt;The thing is now that I‚Äôm hosting on Linode I‚Äôm finding some really useful tutorials. This &lt;a href="#" title="Setting up SSL on Linode"&gt;one&lt;/a&gt; showed me exactly what I needed to do to get it set up.&lt;/p&gt;
&lt;p&gt;Like any good planner I read the how to several times and convinced myself that it was actually relatively straight forward to do and so I started.&lt;/p&gt;
&lt;h2&gt;Step 1 Creating the cert files&lt;/h2&gt;
&lt;p&gt;Using &lt;a href="https://www.linode.com/docs/security/ssl/create-a-self-signed-certificate-on-debian-and-ubuntu" title="Creating Self Signed Certificates on Ubuntu"&gt;this tutorial&lt;/a&gt;I was able to create the required certificates to set up SSL. Of course, I ran into an issue when trying to run this command&lt;/p&gt;
&lt;p&gt;&lt;code&gt;chmod 400 /etc/ssl/private/example.com.key&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;I did not have persmision to chmod on that file. After a bit of Googling I found that I can switch to interactive root mode by running the command&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo -i&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;It feels a bit dangerous to be able to just do that (I didn‚Äôt have to enter a password) but it worked.&lt;/p&gt;
&lt;h2&gt;Step 2&lt;/h2&gt;
&lt;p&gt;OK, so the tutorial above got me most(ish) of the way there, but I needed to sign my own certificate. For that I used this &lt;a href="https://www.linode.com/docs/security/ssl/install-lets-encrypt-to-create-ssl-certificates" title="SSL"&gt;tutorial&lt;/a&gt;. I followed the directions but kept coming up with an error:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Problem biding to port 443: Could not bind to the IPv4 or IPv6&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;I rebooted my Linode server. I restarted apache. I googled and I couldn‚Äôt find the answer I was looking for.&lt;/p&gt;
&lt;p&gt;I wanted to give up, but tried Googling one more time. Finally! An answer so simple it couldn‚Äôt work. But then it did.&lt;/p&gt;
&lt;p&gt;Stop Apache, run the command to start Apache back up and boom. The error went away and I had a certificate.&lt;/p&gt;
&lt;p&gt;However, when I tested the site using &lt;a href="https://www.ssllabs.com/ssltest/analyze.html" title="Analyze my SSL"&gt;SSL Labs&lt;/a&gt;I was still getting an error / warning for an untrusted site.&lt;/p&gt;
&lt;p&gt;ü§¶üèª‚Äç‚ôÇÔ∏è&lt;/p&gt;
&lt;p&gt;‚Äî&lt;/p&gt;
&lt;p&gt;OK ... take 2&lt;/p&gt;
&lt;p&gt;I nuked my linode host to start over again.&lt;/p&gt;
&lt;p&gt;First things first ... we need to needed to &lt;a href="https://linode.com/docs/security/securing-your-server/" title="Securing Your Server"&gt;secure my server&lt;/a&gt;. Next, we need to set up the server as a LAMP and Linode has &lt;a href="https://linode.com/docs/web-servers/lamp/install-lamp-stack-on-ubuntu-16-04/" title="LAMP on Linode"&gt;this tutorial&lt;/a&gt; to walk me through the steps of setting it up.&lt;/p&gt;
&lt;p&gt;I ran into an issue when I restarted the Apache service and realized that I had set my host name but hadn‚Äôt update the hosts file. No problem though. Just fire up &lt;code&gt;vim&lt;/code&gt; and make the additional line:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;127.0.0.1   milo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Next, I used &lt;a href="https://www.linode.com/docs/security/ssl/create-a-self-signed-certificate-on-debian-and-ubuntu/" title="Self Signed Certificate on Ubuntu"&gt;this tutorial&lt;/a&gt; to create a self signed certificate and &lt;a href="https://www.linode.com/docs/security/ssl/ssl-apache2-debian-ubuntu/" title="SSL Apache2 Ubuntu"&gt;this to get the SSL to be set up&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;One thing that I expected was that it would just work. After doing some more reading what I realized was that a self signed certificate is useful for internal applications. Once I realized this I decided to not redirect to SSL (i.e. part 443) for my site but instead to just use the ssl certificate it post from Ulysses securely.&lt;/p&gt;
&lt;p&gt;Why go to all this trouble just too use a third party application to post to a WordPress site? Because &lt;a href="https://www.ulyssesapp.com" title="Ulysses"&gt;Ulysses&lt;/a&gt; is an awesome writing app and I love it. If you‚Äôre writing and not using it, I‚Äôd give it a try. It really is a nice app.&lt;/p&gt;
&lt;p&gt;So really, no &lt;em&gt;good&lt;/em&gt; reason. Just that. And, I like to figure stuff out.&lt;/p&gt;
&lt;p&gt;OK, so Ulysses is great. But why the need for an SSL certificate? Mostly because when I tried to post to Wordpress from Ulysses without any certificates ( self signed or not ) I would get a warning that my traffic was unencrypted and could be snooped. I figured, better safe than sorry.&lt;/p&gt;
&lt;p&gt;Now with the ssl cert all I had to do was trust my self signed certificate and I was set^&lt;a class="footnote" href="#fn1" id="ffn1"&gt;1&lt;/a&gt;^&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;[Mostly. I still needed to specify the domain with www otherwise it didn‚Äôt work. &lt;a href="#ffn1"&gt;‚Ü©&lt;/a&gt;]{#fn1}&lt;/li&gt;
&lt;/ol&gt;</content><category term="Server"></category></entry><entry><title>Switching to Linode</title><link href="https://www.ryancheley.com/switching-to-linode.html" rel="alternate"></link><published>2017-12-03T02:56:00+01:00</published><updated>2017-12-03T02:56:00+01:00</updated><author><name>ryan</name></author><id>tag:www.ryancheley.com,2017-12-03:/switching-to-linode.html</id><summary type="html">&lt;p&gt;Switching to Linode&lt;/p&gt;
&lt;p&gt;I‚Äôve been listening to a &lt;em&gt;lot&lt;/em&gt; of Talk Python to me lately ... I mean a &lt;em&gt;lot&lt;/em&gt;. Recently there was a coupon code for Linode that basically got you four months free with a purchase of a single month, so I thought, ‚Äòwhat the hell‚Äô?&lt;/p&gt;
&lt;p&gt;Anyway, I ‚Ä¶&lt;/p&gt;</summary><content type="html">&lt;p&gt;Switching to Linode&lt;/p&gt;
&lt;p&gt;I‚Äôve been listening to a &lt;em&gt;lot&lt;/em&gt; of Talk Python to me lately ... I mean a &lt;em&gt;lot&lt;/em&gt;. Recently there was a coupon code for Linode that basically got you four months free with a purchase of a single month, so I thought, ‚Äòwhat the hell‚Äô?&lt;/p&gt;
&lt;p&gt;Anyway, I have finally been able to move everything from AWS to Linode for my site and I‚Äôm able to publish from my beloved Ulysses.&lt;/p&gt;
&lt;p&gt;Initially there was an issue with xmlrpc which I still haven‚Äôt fully figured out.&lt;/p&gt;
&lt;p&gt;I tried every combination of everything and finally I‚Äôm able to publish.&lt;/p&gt;
&lt;p&gt;I‚Äôm not one to look a gift horse in the mouth so I‚Äôll go ahead and take what I can get. I had meant to document a bit more / better what I had done, but since it basically went from &lt;strong&gt;not&lt;/strong&gt; working to working, I wouldn‚Äôt know what to write at this point.&lt;/p&gt;
&lt;p&gt;The strangest part is that from the terminal the code I was using to test the issue still returns and xmlrpc faultCode error of -32700 but I‚Äôm able to connect now.&lt;/p&gt;
&lt;p&gt;I really wish i understood this better, but I‚Äôm just happy that I‚Äôm able to get it all set and ready to go.&lt;/p&gt;
&lt;p&gt;Next task ... set up SSL!&lt;/p&gt;</content><category term="Server"></category></entry></feed>